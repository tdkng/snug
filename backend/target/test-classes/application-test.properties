# Test Profile Configuration
# This file is ONLY used during tests and completely overrides application.properties

# Use H2 in-memory database for tests (standard practice)
# No need for PostgreSQL or external database setup
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false

# Google Places API - dummy key for tests (service will be mocked)
# This value is required but won't be used since we mock PlacesService
google.places.apiKey=test-api-key-not-used

# JWT Configuration - test values
# Using a valid base64-encoded 256-bit key for JWT signing
spring.app.jwtSecret=PXK9F7XcJKgpvZuxxh9swpzsGmP+ZGtzqhE08PQ5oCQ=
spring.app.jwtExpirationMs=86400000
spring.app.jwtCookieName=test_jwt_cookie

# Server - use random port for tests (avoids port conflicts)
server.port=0

# Note: Security is configured via SecurityConfig.java
# Tests can use @WithMockUser, @AutoConfigureMockMvc, or @MockBean for security testing
# The DataInitializer will create test users in the H2 database